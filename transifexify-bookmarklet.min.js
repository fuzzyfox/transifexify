function toCamelCase(t){return t.replace(/\-./g,function(t){return t.charAt(1).toUpperCase()})}!function(){if(Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),!Element.prototype.addEventListener){var t=[],e=function(e,r){var n=this,i=function(t){t.target=t.srcElement,t.currentTarget=n,r.handleEvent?r.handleEvent(t):r.call(n,t)};if("DOMContentLoaded"==e){var o=function(t){"complete"==document.readyState&&i(t)};if(document.attachEvent("onreadystatechange",o),t.push({object:this,type:e,listener:r,wrapper:o}),"complete"==document.readyState){var a=new Event;a.srcElement=window,o(a)}}else this.attachEvent("on"+e,i),t.push({object:this,type:e,listener:r,wrapper:i})},r=function(e,r){for(var n=0;n<t.length;){var i=t[n];if(i.object==this&&i.type==e&&i.listener==r){"DOMContentLoaded"==e?this.detachEvent("onreadystatechange",i.wrapper):this.detachEvent("on"+e,i.wrapper);break}++n}};Element.prototype.addEventListener=e,Element.prototype.removeEventListener=r,HTMLDocument&&(HTMLDocument.prototype.addEventListener=e,HTMLDocument.prototype.removeEventListener=r),Window&&(Window.prototype.addEventListener=e,Window.prototype.removeEventListener=r)}}(),function(t,e){var r,n,i,o,a,u,l,s,c,f;e.createTreeWalker||(n={FILTER_ACCEPT:1,FILTER_REJECT:2,FILTER_SKIP:3,SHOW_ALL:4294967295,SHOW_ELEMENT:1,SHOW_ATTRIBUTE:2,SHOW_TEXT:4,SHOW_CDATA_SECTION:8,SHOW_ENTITY_REFERENCE:16,SHOW_ENTITY:32,SHOW_PROCESSING_INSTRUCTION:64,SHOW_COMMENT:128,SHOW_DOCUMENT:256,SHOW_DOCUMENT_TYPE:512,SHOW_DOCUMENT_FRAGMENT:1024,SHOW_NOTATION:2048},t.NodeFilter=t.NodeFilter||(n.constructor=n.prototype=n),i=Object.create||function(t){function e(){}return e.prototype=t,new e},u={first:"firstChild",last:"lastChild",next:"firstChild",previous:"lastChild"},l={next:"nextSibling",previous:"previousSibling"},o=u.toString,a=function(t,e){return o.call(t).toLowerCase()==="[object "+e.toLowerCase()+"]"},s=function(t,e){var r,i,o,a,l;for(i=t.currentNode[u[e]];null!==i;){if(a=t.filter.acceptNode(i),a===n.FILTER_ACCEPT)return t.currentNode=i,i;if(a!==n.FILTER_SKIP||(r=i[u[e]],null===r))for(;null!==i;){if(l=i[u[e]],null!==l){i=l;break}if(o=i.parentNode,null===o||o===t.root||o===t.currentNode)return null;i=o}else i=r}return null},c=function(t,e){var r,i,o;if(r=t.currentNode,r===t.root)return null;for(;;){for(o=r[l[e]];null!==o;){if(r=o,i=t.filter.acceptNode(r),i===n.FILTER_ACCEPT)return t.currentNode=r,r;o=r[u[e]],i===n.FILTER_REJECT&&(o=r[l[e]])}if(r=r.parentNode,null===r||r===t.root)return null;if(t.filter.acceptNode(r)===n.FILTER_ACCEPT)return null}},f=function(t,e){if(t===e)return null;if(null!==t.nextSibling)return t.nextSibling;for(;null!==t.parentNode;){if(t=t.parentNode,t===e)return null;if(null!==t.nextSibling)return t.nextSibling}return null},r=function(e,r,o){var u=this,l=!1;if(!e||!e.nodeType)throw new Error("DOMException: NOT_SUPPORTED_ERR");u.root=e,u.whatToShow=Number(r)||0,u.currentNode=e,a(o,"function")||(o=null),u.filter=i(t.NodeFilter.prototype),u.filter.acceptNode=function(t){var e;if(l)throw new Error("DOMException: INVALID_STATE_ERR");return 1<<t.nodeType-1&u.whatToShow?null===o?n.FILTER_ACCEPT:(l=!0,e=o(t),l=!1,e):n.FILTER_SKIP}},r.prototype={constructor:r,parentNode:function(){for(var t=this.currentNode;null!==t&&t!==this.root;)if(t=t.parentNode,null!==t&&this.filter.acceptNode(t)===n.FILTER_ACCEPT)return this.currentNode=t,t;return null},firstChild:function(){return s(this,"first")},lastChild:function(){return s(this,"last")},previousSibling:function(){return c(this,"previous")},nextSibling:function(){return c(this,"next")},previousNode:function(){var t,e,r;for(t=this.currentNode;t!==this.root;){for(r=t.previousSibling;null!==r;){for(t=r,e=this.filter.acceptNode(t);e!==n.FILTER_REJECT&&null!==t.lastChild;)t=t.lastChild,e=this.filter.acceptNode(t);if(e===n.FILTER_ACCEPT)return this.currentNode=t,t}if(t===this.root||null===t.parentNode)return null;if(t=t.parentNode,this.filter.acceptNode(t)===n.FILTER_ACCEPT)return this.currentNode=t,t}return null},nextNode:function(){var t,e,r;for(t=this.currentNode,e=n.FILTER_ACCEPT;;){for(;e!==n.FILTER_REJECT&&null!==t.firstChild;)if(t=t.firstChild,e=this.filter.acceptNode(t),e===n.FILTER_ACCEPT)return this.currentNode=t,t;if(r=f(t,this.root),null===r)return null;if(t=r,e=this.filter.acceptNode(t),e===n.FILTER_ACCEPT)return this.currentNode=t,t}}},e.createTreeWalker=function(t,e,i){return e=void 0===e?n.SHOW_ALL:e,i&&a(i.acceptNode,"function")?i=i.acceptNode:a(i,"function")||(i=null),new r(t,e,i)})}(window,document),Element.prototype.setDataAttribute=function(t,e){return void 0!==e?this.setAttribute("data-"+t,e):this.removeDataAttribute(t)},Element.prototype.removeDataAttribute=function(t){return this.removeAttribute("data-"+t)},Element.prototype.setDataAttributes=function(t){if(t instanceof Object)for(attr in t)t.hasOwnProperty(attr)&&this.setDataAttribute(attr,t[attr])},Element.prototype.__lookupGetter__("dataset")||Element.prototype.__defineGetter__("dataset",function(){function t(t){return function(){return t}}function e(t,e){return function(r){return t.setDataAttribute(e,r)}}try{var r={};r.__defineGetter__("test",function(){}),delete r;var n={}}catch(i){var n=document.createElement("div")}for(attr in this.attributes)if(this.attributes.hasOwnProperty(attr)&&this.attributes[attr].name&&/^data-[a-z_\-\d]*$/i.test(this.attributes[attr].name)){var o=toCamelCase(this.attributes[attr].name.substr(5)),a=this.attributes[attr].value;try{n.__defineGetter__(o,t(a||"")),n.__defineSetter__(o,e(this,o))}catch(i){n[o]=a}}return n});var Transifexify=window.Transifexify=function(t,e){var r=function(t){return new r.prototype.init(t)};r.version="0.0.3";var n={},i=[];Array.prototype.remove||(Array.prototype.remove=function(t,e){var r=this.slice((e||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,r)});var o=function(t,e){var r,n=t.url,i=t.method||"GET",o=t.success||function(){},a=t.error||function(){};try{r=new XMLHttpRequest}catch(u){r=new ActiveXObject("Msxml2.XMLHTTP")}return"undefined"==typeof e&&(e=!0),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?o.call(null,r):a.call(null,r))},r.open(i,n,e),r.send(null),r};return r.getTextNodes=function(r){for(var n,i=e.createTreeWalker(r,t.NodeFilter.SHOW_TEXT,null,!1),o=[];n=i.nextNode();)n.nodeValue=n.nodeValue.trim(),""!==n.nodeValue&&"SCRIPT"!==n.parentNode.nodeName&&o.push(n);return o},r.fn=r.prototype={init:function(t){i=r.getTextNodes(e.querySelector(t))},nameNode:function(t,e){var r=i[t];return this.unnameNode(t),""!==e.trim()&&(n[e.trim()]=r.nodeValue,r.nodeValue="{{ "+e.trim()+" }}"),r.cloneNode()},unnameNode:function(t){var e=i[t],r=e.nodeValue.substr(3,e.nodeValue.length-6);if(n.hasOwnProperty(r)){for(var o=n[r],a=-1,u=0,l=i.length;l>u;u++)i[u].nodeValue===r&&a++;a&&delete n[r],e.nodeValue=o}return e.cloneNode()},getNamedNodes:function(){return JSON.parse(JSON.stringify(n))},getAllNodes:function(){var t=[];return i.forEach(function(e){t.push(e.cloneNode())}),t},getOriginalSource:function(){var e=!1;return o({url:t.location.href,success:function(t){e=t.responseText}},!1),e},getTemplateSource:function(){var t=e.documentElement.innerHTML;e.querySelector("#transifexify")&&(t=t.replace(e.body.innerHTML,e.querySelector("#transifexifyDocument").innerHTML),t=t.replace(e.querySelector("#transifexify").outerHTML,"")),t=t.replace(/<script(.*?)rel="transifexify"(.*?)>(.*?)<\/script>/,""),t=t.replace(/<link(.*?)href="(.*?)transifexify.css"(.*?)>/,"");var r=this.getOriginalSource().match(/<!DOCTYPE((.|\n|\r)*?)>/i);return console.log(r),t=(r[0]||"")+"<html>"+t+"</html>"},getTransifexJSON:function(){return JSON.stringify(this.getNamedNodes())}},r.prototype.init.prototype=r.prototype,r}(this,this.document);!function(t,e){if(!t.TransifexifySidebar){t.TransifexifySidebar=!0;var r=e.createElement("a");r.href=e.querySelector('script[rel="transifexify"]').src;var n=e.createElement("link");n.href="//"+r.host+r.pathname.substr(0,r.pathname.lastIndexOf("/"))+"/transifexify.css",n.setAttribute("rel","stylesheet"),e.head.insertBefore(n,e.head.firstChild),e.body.innerHTML='<div id="transifexifyDocument">'+e.body.innerHTML+"</div>",e.body.innerHTML+='<div id="transifexify">									<nav class="navbar navbar-inverse" role="navigation">										<div class="navbar-header">											<span class="navbar-brand">Transifexify</span>										</div>										<div style="height: 0px;padding: 0 15px 0 15px">											<ul class="nav navbar-nav navbar-right">												<li style="margin:0;">													<a href="https://github.com/fuzzyfox/transifexify">														<span class="fa fa-github"></span> fuzzyfox/transifexify													</a>												</li>											</ul>										</div>									</nav>									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, cupiditate.</p>									<form action="#" class="form clearfix" id="transifexifyForm"></form>								</div>';var i=new t.Transifexify("#transifexifyDocument"),o=e.querySelector("#transifexifyForm");i.getAllNodes().forEach(function(t,e){o.innerHTML+='<div class="form-group">								<input type="text" name="node-'+e+'" class="form-control input-md"/>								<div class="nodeValue">'+t.nodeValue+"</div>							</div>"}),o.innerHTML+='<button type="submit" class="btn btn-primary btn-lg pull-right">next</button>',o.addEventListener("keyup",function(t){if("INPUT"===t.target.nodeName){var e=t.target,r=parseInt(e.name.substr(5),10);i.nameNode(r,e.value.trim())}}),o.addEventListener("submit",function(r){return r.preventDefault(),o.innerHTML='<div class="form-group">								<label for="" class="control-label"></label>								<textarea rows="10" name="transifexJSON" class="form-control input-md">'+i.getTransifexJSON()+"</textarea>							</div>",o.innerHTML+='<div class="form-group">								<label for="" class="control-label"></label>								<textarea rows="10" name="transifexHTML" class="form-control input-md">'+i.getTemplateSource()+"</textarea>							</div>",o.innerHTML+='<button id="transifexifyClose" class="btn btn-primary btn-lg pull-right">done</button>',e.querySelector("#transifexifyClose").addEventListener("click",function(){t.location.reload()}),!1})}}(this,this.document);